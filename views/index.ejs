<%- include('assets/navbar') %>
<%- include('assets/header') %>

  <div class="container">
    <% if(message) { %>
      <div class="alert alert-warning alert-dismissible fade show" role="alert">
        <%= message %>
          <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
      </div>
      <%} %>
<!-- <a href="/student/addname">Add Name</a> -->

      <div class="row" style="justify-content: center;">
          <div class="col-sm-6 mt-5" >
            <h2 class="alert alert-primary text-center">List Of Student</h2>

            <table class="table">
              <thead>
                <tr>
                  <th scope="col">#</th>
                  <th scope="col">Name</th>
                  <th scope="col">Age</th>
                  <th scope="col">Fees</th>
                  <th scope="col">Action</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <% data.forEach((item,i)=>{ %>
                <tr>
                  <td>
                    <!-- <%= i+1 %> -->
                    <%= (i+1) + ((current-1)*5) %>
                  </td>
                  <td>
                    <%= item.name %>
                  </td>
                  <td>
                    <%= item.age %>
                  </td>
                  <td>
                    <%= item.fees %>
                  </td>
                  <td>
                    <a href="/student/edit/<%= item._id %>">
                      <button>
                        <i class="fa fa-pen-square text-info"></i>
                      </button></a>
                    <a href="/student/delete/<%= item._id %>">
                      <button>
                        <i class="fa fa-trash text-danger"></i>
                      </button>
                      </from>
                  </td>
                </tr>
                <% }) %>
                  </tr>
              </tbody>
            </table>
          </div>
        </div>
  </div>
  <% if (pages > 0) { %>
    <ul class="pagination" style="justify-content: center;"   >
        <% if (current == 1) { %>
            <li class="page-item disabled"><a class="page-link" aria-disabled="true">Previous</a></li>
        <% } else { %>
            <li><a class="page-link" href="/student/list/<%=Number(current)-1%>">Previous</a></li>
        <% } %>
        <% var i = (Number(current) > 5 ? Number(current) - 4 : 1) %>
        <% if (i !== 1) { %>
            <li class="page-item"><a class="page-link">...</a></li>
        <% } %>
        <% for (; i <= (Number(current) + 4) && i <= pages; i++) { %>
            <% if (i == current) { %>
                <li class="active"><a class="page-link"><%= i %></a></li>
            <% } else { %>
                <li><a class="page-link" href="/student/list/<%= i %>"><%= i %></a></li>
            <% } %>
            <% if (i == Number(current) + 4 && i < pages) { %>
                <li class="page-item active" aria-current="page"><a class="page-link">...</a></li>
            <% } %>
        <% } %>
        <% if (current == pages) { %>
            <li class="page-item disabled"><a class="page-link">Next</a></li>
        <% } else { %>
            <li class="page-item"><a class="page-link" href="/student/list/<%= Number(current)+1 %>">Next</a></li>
        <% } %>
    </ul>
<% } %>


  <!-- <nav aria-label="...">
    <ul class="pagination" style="justify-content: center">
      <li class="page-item disabled">
        <a class="page-link" href="student/list/page" tabindex="-1" aria-disabled="true"
          >Previous</a
        >
      </li>
      <li class="page-item">
        <a class="page-link" href="list/1">1</a>
      </li>
      <li class="page-item active" aria-current="page">
        <a class="page-link" href="list/2">2</a>
      </li>
      <li class="page-item">
        <a class="page-link" href="#">Next</a>
      </li>
    </ul>
  </nav> -->
<%- include('assets/footer') %>